#Copyright (c) 2020-2021 ARM Limited. All rights reserved.
#
#SPDX-License-Identifier: Apache-2.0
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing, software
#distributed under the License is distributed on an "AS IS" BASIS,
#WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#See the License for the specific language governing permissions and
#limitations under the License.
{
    # Files/folders to be copied to mbed-os folder
    "mbed-os": {
        "ARM_MUSCA_S1": [
            {
                "src": "bl2/ext/mcuboot/CMakeFiles/signing_layout_ns.dir/signing_layout_ns.o",
                "dst": "targets/TARGET_ARM_SSG/TARGET_MUSCA_S1/partition/signing_layout_ns.c"
            },
            {
                "src": "bl2/ext/mcuboot/CMakeFiles/signing_layout_s.dir/signing_layout_s.o",
                "dst": "targets/TARGET_ARM_SSG/TARGET_MUSCA_S1/partition/signing_layout_s.c"
            }
        ],
        "ARM_MUSCA_B1": [
            {
                "src": "bl2/ext/mcuboot/CMakeFiles/signing_layout_ns.dir/signing_layout_ns.o",
                "dst": "targets/TARGET_ARM_SSG/TARGET_MUSCA_B1/partition/signing_layout_ns.c"
            },
            {
                "src": "bl2/ext/mcuboot/CMakeFiles/signing_layout_s.dir/signing_layout_s.o",
                "dst": "targets/TARGET_ARM_SSG/TARGET_MUSCA_B1/partition/signing_layout_s.c"
            }
        ],
        # List of files that should not be copied to Mbed OS even though they are covered by directory rules
        # in the next sections.
        # This feature keeps the yaml file small and tidy by allowing folder rules and list of files to be excluded.
        # Example:
        #   "excluded_files": [
        #       "crypto_extra.h"
        #   ],

        "excluded_files": [

        ],
        "common": [
            {
                "src": "install/export/tfm/src/tfm_crypto_ipc_api.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/src/tfm_crypto_ipc_api.c"
            },
            {
                "src": "install/export/tfm/src/tfm_initial_attestation_ipc_api.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/src/tfm_initial_attestation_ipc_api.c"
            },
            {
                "src": "install/export/tfm/src/tfm_ps_ipc_api.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/src/tfm_ps_ipc_api.c"
            },
            {
                "src": "install/export/tfm/src/tfm_its_ipc_api.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/src/tfm_its_ipc_api.c"
            },
            {
                "src": "install/export/tfm/src/tfm_platform_ipc_api.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/src/tfm_platform_ipc_api.c"
            },
            {
                "src": "../bl2/ext/mcuboot/scripts/assemble.py",
                "dst": "tools/psa/tfm/bin_utils/assemble.py"
            },
            {
                "src": "../bl2/ext/mcuboot/scripts/macro_parser.py",
                "dst": "tools/psa/tfm/bin_utils/macro_parser.py"
            },
            {
                "src": "lib/ext/mcuboot-src/scripts/imgtool.py",
                "dst": "tools/psa/tfm/bin_utils/imgtool.py"
            },
            {
                "src": "lib/ext/mcuboot-src/scripts/imgtool",
                "dst": "tools/psa/tfm/bin_utils/imgtool"
            },
            {
                "src": "lib/ext/mcuboot-src/scripts/imgtool/keys",
                "dst": "tools/psa/tfm/bin_utils/imgtool/keys"
            },
            {
                "src": "../bl2/ext/mcuboot/scripts/wrapper/wrapper.py",
                "dst": "tools/psa/tfm/bin_utils/wrapper.py"
            },
            {
                "src": "install/export/tfm/include",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/include"
            },
            {
                "src": "install/export/tfm/include/psa",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/include/psa"
            },
            {
                "src": "install/export/tfm/include/psa_manifest",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/include/psa_manifest"
            }
        ],
        "v8-m": [
            {
                "src": "install/export/tfm/src/tfm_psa_ns_api.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/TARGET_TFM_V8M/src/tfm_psa_ns_api.c"
            },
            {
                "src": "install/export/tfm/src/tfm_ns_interface.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/TARGET_TFM_V8M/src/tfm_ns_interface.c"
            }
        ],
        "dualcpu": [
            {
                "src": "install/export/tfm/src/tfm_multi_core_api.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/TARGET_TFM_DUALCPU/src/tfm_multi_core_api.c"
            },
            {
                "src": "install/export/tfm/src/platform_ns_mailbox.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/TARGET_TFM_DUALCPU/src/platform_ns_mailbox.c"
            },
            {
                "src": "install/export/tfm/src/tfm_multi_core_psa_ns_api.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/ARGET_TFM_DUALCPU/src/tfm_multi_core_psa_ns_api.c"
            },
            {
                "src": "install/export/tfm/src/tfm_ns_mailbox.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/TARGET_TFM_DUALCPU/src/tfm_ns_mailbox.c"
            },
            {
                "src": "install/export/tfm/src/platform_multicore.c",
                "dst": "platform/FEATURE_EXPERIMENTAL_API/FEATURE_PSA/TARGET_TFM/TARGET_TFM_LATEST/TARGET_TFM_DUALCPU/src/platform_multicore.c"
            }
        ]
    },
    # Files/folders to be copied to tf-m-regression folder
    "tf-m-regression": {
         "ARM_MUSCA_S1": [
            {
                "src": "platform/ext/target/musca_s1/Device/Include/platform_base_address.h",
                "dst": "tfm/targets/TARGET_ARM_SSG/TARGET_MUSCA_S1/device/platform_base_address.h"
            },
            {
                "src": "platform/ext/target/musca_s1/tfm_peripherals_def.h",
                "dst": "tfm/targets/TARGET_ARM_SSG/TARGET_MUSCA_S1/device/tfm_peripherals_def.h"
            }
         ],
         "ARM_MUSCA_B1": [
            {
                "src": "platform/ext/target/musca_b1/Device/Include/platform_base_address.h",
                "dst": "tfm/targets/TARGET_ARM_SSG/TARGET_MUSCA_B1/device/platform_base_address.h"
            },
            {
                "src": "platform/ext/target/musca_b1/tfm_peripherals_def.h",
                "dst": "tfm/targets/TARGET_ARM_SSG/TARGET_MUSCA_B1/device/tfm_peripherals_def.h"
            }
         ],
        "common": [
            {
                "src": "platform/include/tfm_plat_defs.h",
                "dst": "tfm/platform/include/tfm_plat_defs.h"
            },
            {
                "src": "platform/include/tfm_plat_ns.h",
                "dst": "tfm/platform/include/tfm_plat_ns.h"
            },
            {
                "src": "../../tf-m-tests/test/test_services/tfm_secure_client_service/tfm_secure_client_service_api.h",
                "dst": "test/inc"
            },
            {
                "src": "../../tf-m-tests/test/framework/test_framework_error_codes.h",
                "dst": "test/inc"
            },
            {
                "src": "../../tf-m-tests/test/framework/test_framework_integ_test.h",
                "dst": "test/inc"
            }
        ],
        "regression_libs": [
            {
                "src": "app/libtfm_ns_integration_test.a",
                "dst": "test/lib"
            },
            {
                "src": "interface/libpsa_api_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "lib/ext/qcbor/libtfm_qcbor.a",
                "dst": "test/lib"
            },
            {
                "src": "lib/ext/qcbor/libtfm_qcbor_test.a",
                "dst": "test/lib"
            },
            {
                "src": "lib/ext/t_cose/libtfm_t_cose.a",
                "dst": "test/lib"
            },
            {
                "src": "lib/ext/t_cose/libtfm_t_cose_test.a",
                "dst": "test/lib"
            },
            {
                "src": "platform/libplatform_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/attestation/libtfm_test_suite_attestation_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/core/libtfm_test_suite_core_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/crypto/libtfm_test_suite_crypto_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/ipc/libtfm_test_suite_ipc_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/its/libtfm_test_suite_its_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/platform/libtfm_test_suite_platform_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/ps/libtfm_test_suite_ps_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/qcbor/libtfm_test_suite_qcbor_ns.a",
                "dst": "test/lib"
            },
            {
                "src": "test/suites/t_cose/libtfm_test_suite_t_cose_ns.a",
                "dst": "test/lib"
            }
        ]
    }
}
